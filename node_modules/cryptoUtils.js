// cryptoUtils.js

// Message/String conversion

//take the a javascript object string, encode it as 'utf8',
//and convert it to 'hex' encoded string
exports.stringToMessage = function stringToMessage(str) {
	return new Buffer(str, 'utf8').toString('hex');	
}

//take the a 'hex' encoded message, 
//and convert it to a 'utf8' encoded javascript string
exports.messageToString = function messageToString(msg) {
	return new Buffer(msg, 'hex').toString('utf8');
}


exports.hexEncode = function(str){
    var hex, i;

    var result = "";
    for (i=0; i<str.length; i++) {
        hex = str.charCodeAt(i).toString(16);
        result += ("000"+hex).slice(-4);
    }

    return result;
}

exports.hexDecode = function(hexStr){
    var j;
    var hexes = hexStr.match(/.{1,4}/g) || [];
    var result = "";
    for(j = 0; j<hexes.length; j++) {
        result += String.fromCharCode(parseInt(hexes[j], 16));
    }

    return result;
}